extends layout.pug
append head
  //- add page specific styles by appending to the head
  link(rel="stylesheet" href="/stylesheets/user-jinglelists.css")

block content
    include nav-bar.pug
    div.main-container
        div.lists-and-jingles-container
            div.sidelinks-container
                div.lists-container
                    table(class='jinglelists-table')
                        thead(class='thead')
                            tr
                                th(scope='col') My Lists
                        tbody
                            each list in lists
                                tr
                                    td
                                        form(method='get' action=`/users/${userId}/jingleLists/${list.id}` class="list")
                                            input(type='submit' value=`${list.name}` class="list")
                                        form(method="post" action=`/users/${userId}/jingleLists/${list.id}` class='list-delete')
                                            input(type="hidden" name='_csrf' value=csrfToken)
                                            input(type='submit' value="✖" class='list-delete')
                    if addJingleListError
                        each error in addJingleListError
                            p #{error}
                    form(method='post' action=`/users/${userId}/jingleLists`)
                        input(type="hidden" name="_csrf" value=csrfToken)
                        input(type='text' name="name" id="new-list-name-field" value=name)
                        input(type='submit' value='Add List' id='new-list-submit')
                a#explore-butt(href="/") Explore
            div.jingles-container
                div.jingle-table
                    table(class='jingle-list-table')
                        thead(class='thead')
                            tr
                                th(scope='col') Cover
                                th(scope='col') Title
                                th(scope='col') Artist
                                th(scope='col') Rating
                                th(scope='col') Date Added
                                th(scope='col')
                                th(scope='col')
                        tbody
                            each jingle in jinglesFromAList
                                tr
                                    td
                                        a(href=`/jingles/${jingle.id}`)
                                            img(src=`${jingle.image}`)
                                    td
                                        a(href=`/jingles/${jingle.id}`)= `${jingle.name}`
                                    td=`${jingle.artist}`
                                    td=`${jingle.avgRating}`
                                    td=`${jingle.createdAt}`
                                    td
                                        a(href='/jingles/'+jingle.id+'/reviews' id="jingle-review-link") Write a review
                                    td(id="delete-container")
                                        form(method="post" action=`/users/${userId}/jingleLists/${userId}/jingles/${jingle.id}`)
                                            input(type="hidden" name='_csrf' value=csrfToken)
                                            input(type='submit' value="✖" id="delete-jingle-from-list")

    include footer.pug
